<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>3BIA – Lez6_3 · Tipi di dato & letterali (C++ e C)</title>

  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../default.css">
  <script src="../highlight.js"></script>
  <script>try{hljs.highlightAll();}catch(e){}</script>

  <script>
    function prevSlide(){ window.location.href = "lez6_2.html"; }
    function nextSlide(){ window.location.href = "lez6_4.html"; }
    function toggleMenu(){ document.getElementById('menu').classList.toggle('open'); }
    function toggleBox(btnId, boxId){
      const box=document.getElementById(boxId), btn=document.getElementById(btnId);
      const open = box.style.display==='block';
      box.style.display = open ? 'none':'block';
      if(btn) btn.textContent = open ? 'Mostra ▼' : 'Nascondi ▲';
    }
  </script>

  <style>
    /* allineamento forte a sinistra e stile coerente */
    .inner-box, .inner-box p, .inner-box ul, .inner-box ol, .inner-box li, .inner-box pre, .inner-box code { text-align:left !important; }
    .inner-box ul, .inner-box ol { margin:.5rem 0 .75rem 1rem; padding-left:1.25rem; list-style-position:outside }
    .inner-box li { margin:.25rem 0 }
    pre, pre code { white-space:pre; tab-size:4; margin:0 0 1rem 0; padding:.5rem .75rem; }
    code { white-space:pre-wrap; }

    .box  { background:var(--panel,#fff); border-radius:12px; padding:12px; box-shadow:0 2px 6px rgba(0,0,0,.08); margin-bottom:14px }
    .note { background:#f7faff; border-left:4px solid #3b82f6; padding:.6rem .8rem; border-radius:8px; margin:.35rem 0 }
    .ok   { background:#eefbf1; border-left:4px solid #22c55e; padding:.6rem .8rem; border-radius:8px; margin:.35rem 0; display:inline-block }
    .warn { background:#fff7ed; border-left:4px solid #f59e0b; padding:.6rem .8rem; border-radius:8px; margin:.35rem 0 }
    .tip  { font-style:italic; opacity:.95 }
    .kbd  { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; background:#f1f5f9; border:1px solid #e2e8f0; border-radius:6px; padding:0 .35rem }

    table { width:100%; border-collapse:collapse }
    th, td { border-bottom:1px solid #e5e7eb; padding:.45rem .5rem; text-align:left; vertical-align:top }
    th { background:#f8fafc }
    td code { white-space:pre-wrap }
  </style>
</head>
<body>
<!-- BEGIN MENU -->
<button class="menu-toggle" onclick="toggleMenu()">&#9776; Menu</button>
<div class="sidebar" id="menu">
  <h2>Lezione 6 — Introduzione a C/C++</h2>
  <ul>
    <li><a href="lez6_1.html">Lez6_1: Interpretati vs Compilati</a></li>
    <li><a href="lez6_2.html">Lez6_2: Hello, World</a></li>
    <li><a class="active" href="lez6_3.html">Lez6_3: Tipi di dato &amp; letterali</a></li>
    <li><a href="lez6_4.html">Lez6_4: Variabili &amp; assegnamento</a></li>
    <li><a href="lez6_5.html">Lez6_5: Espressioni &amp; precedenza</a></li>
    <li><a href="lez6_6.html">Lez6_6: I/O di base</a></li>
    <li><a href="lez6_7.html">Lez6_7: if / else</a></li>
    <li><a href="lez6_8.html">Lez6_8: switch</a></li>
    <li><a href="lez6_9.html">Lez6_9: while &amp; do-while</a></li>
    <li><a href="lez6_10.html">Lez6_10: for</a></li>
  </ul>
</div>
<!-- END MENU -->

<div class="slide">
  <h1>Tipi di dato (primitivi) &amp; letterali — C++ prima, poi C</h1>

  <div class="nav-buttons" style="margin-bottom:10px">
    <button onclick="prevSlide()">&#8592; Indietro</button>
    <button onclick="nextSlide()">Avanti &#8594;</button>
  </div>

  <div class="content-box">

    <div class="inner-box box">
      <h2>Obiettivo</h2>
      <ul>
        <li>Conoscere i <strong>tipi primitivi</strong> (interi, reali, char, booleani) in C++ e in C.</li>
        <li>Capire <strong>letterali</strong> (come si scrivono numeri/char/float nel codice) e i <strong>suffissi</strong>.</li>
        <li>Comprendere in modo operativo: <strong>dimensioni</strong> (sizeof), <strong>intervalli</strong>, <strong>overflow</strong>, <strong>promozioni</strong>.</li>
        <li>Sapere quando usare i <strong>tipi a larghezza fissa</strong> (<code>&lt;cstdint&gt;</code>/<code>stdint.h</code>).</li>
      </ul>
      <p class="ok"><b>Idea chiave:</b> le dimensioni sono in parte <em>implementation-defined</em>; per portabilità: misura con <code>sizeof</code> e preferisci i tipi “a bit fissi” quando serve.</p>
    </div>

    <!-- C++ -->
    <div class="inner-box box">
      <h2>Sezione C++ — panoramica dei tipi primitivi</h2>
      <ul>
        <li><b>Interi con segno</b>: <code>short</code>, <code>int</code>, <code>long</code>, <code>long long</code></li>
        <li><b>Interi senza segno</b>: <code>unsigned short</code>, <code>unsigned int</code>, <code>unsigned long</code>, <code>unsigned long long</code></li>
        <li><b>Reali</b>: <code>float</code> (≈ 7 cifre), <code>double</code> (≈ 15), <code>long double</code> (implementazione-dip.)</li>
        <li><b>Caratteri</b>: <code>char</code> (signed/unsigned è implementazione-dip.), <code>wchar_t</code>, <code>char16_t</code>, <code>char32_t</code> (Unicode)</li>
        <li><b>Booleano</b>: <code>bool</code> con costanti <code>true</code>/<code>false</code></li>
      </ul>
      <p class="note">Dimensioni tipiche (non garantite): su molte piattaforme 64-bit (LP64) <code>int</code>=32 bit, <code>long</code>=64 bit, <code>long long</code>=64 bit.</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;limits&gt;
int main(){
    std::cout &lt;&lt; "sizeof(int) = " &lt;&lt; sizeof(int) &lt;&lt; " byte\n";
    std::cout &lt;&lt; "int min..max = " 
              &lt;&lt; std::numeric_limits&lt;int&gt;::min() &lt;&lt; ".."
              &lt;&lt; std::numeric_limits&lt;int&gt;::max() &lt;&lt; "\n";
}</code></pre>
      <p class="tip">Usa <code>std::numeric_limits&lt;T&gt;</code> per conoscere intervalli e proprietà del tipo <code>T</code>.</p>
    </div>

    <!-- C -->
    <div class="inner-box box">
      <h2>Sezione C — panoramica dei tipi primitivi</h2>
      <ul>
        <li><b>Interi con segno</b>: <code>short</code>, <code>int</code>, <code>long</code>, <code>long long</code></li>
        <li><b>Interi senza segno</b>: <code>unsigned short</code>, <code>unsigned int</code>, <code>unsigned long</code>, <code>unsigned long long</code></li>
        <li><b>Reali</b>: <code>float</code>, <code>double</code>, <code>long double</code></li>
        <li><b>Caratteri</b>: <code>char</code> (signed/unsigned implementazione-dip.)</li>
        <li><b>Booleano</b>: <code>_Bool</code> (da C99) oppure <code>#include &lt;stdbool.h&gt;</code> per <code>bool</code>/<code>true</code>/<code>false</code></li>
      </ul>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;limits.h&gt;
int main(void){
    printf("sizeof(int) = %zu byte\n", sizeof(int));
    printf("int min..max = %d..%d\n", INT_MIN, INT_MAX);
}</code></pre>
      <p class="note">Costanti min/max in C: <code>limits.h</code> per interi; <code>float.h</code> per floating-point.</p>
    </div>

    <!-- Tipi a larghezza fissa -->
    <div class="inner-box box">
      <h2>Tipi a larghezza fissa (portabilità)</h2>
      <ul>
        <li><b>C++</b>: <code>#include &lt;cstdint&gt;</code> → <code>std::int8_t</code>, <code>std::uint32_t</code>, <code>std::int64_t</code>, …</li>
        <li><b>C</b>: <code>#include &lt;stdint.h&gt;</code> → <code>int8_t</code>, <code>uint32_t</code>, <code>int64_t</code>, …</li>
        <li><b>Quando usarli</b>: formati di file binari, protocolli, interfacce che richiedono dimensioni precise.</li>
        <li><b>Altri tipi utili</b>: <code>size_t</code> (dimensioni/indici), <code>ptrdiff_t</code> (differenza tra puntatori), <code>uint_fastXX_t</code>/<code>uint_leastXX_t</code>.</li>
      </ul>
      <p class="ok"><b>Regola pratica:</b> per contatori generici usa <code>int</code>; per formati stabili su disco/rete usa <code>uint32_t</code>, <code>uint64_t</code>, ecc.</p>
    </div>

    <!-- Letterali numerici -->
    <div class="inner-box box">
      <h2>Letterali interi (basi &amp; suffissi)</h2>
      <ul>
        <li><b>Basi</b>: decimale (es. <code>42</code>), esadecimale (<code>0x2A</code>), ottale (<code>052</code>), <b>binario</b> (<code>0b101010</code> in C++14+; in C standard solo da C23, prima è estensione del compilatore).</li>
        <li><b>Separatore cifre (C++14+)</b>: apice singolo <code>'</code> → es. <code>1'000'000</code> (migliora la leggibilità).</li>
        <li><b>Suffissi</b>: <code>u/U</code> (unsigned), <code>l/L</code> (long), <code>ll/LL</code> (long long). Possono combinarsi: <code>42u</code>, <code>0xFFu</code>, <code>10LL</code>, <code>7uLL</code>.</li>
      </ul>
      <table>
        <thead><tr><th>Esempio</th><th>Significato</th><th>Tipo risultante (tipico)</th></tr></thead>
        <tbody>
          <tr><td><code>42</code></td><td>decimale</td><td><code>int</code> (se ci sta)</td></tr>
          <tr><td><code>0x2A</code></td><td>esadecimale</td><td><code>int</code> o <code>unsigned int</code> (dipende dall’ampiezza)</td></tr>
          <tr><td><code>0b101010</code></td><td>binario</td><td><code>int</code> (C++14+; in C solo C23)</td></tr>
          <tr><td><code>42u</code></td><td>unsigned</td><td><code>unsigned int</code></td></tr>
          <tr><td><code>42L</code></td><td>long</td><td><code>long</code></td></tr>
          <tr><td><code>42LL</code></td><td>long long</td><td><code>long long</code></td></tr>
        </tbody>
      </table>
      <p class="warn"><b>Attenzione:</b> se mescoli <em>signed</em> e <em>unsigned</em> nella stessa espressione, può avvenire una <em>promozione</em> a <code>unsigned</code> con effetti inattesi sui confronti.</p>
    </div>

    <div class="inner-box box">
      <h2>Letterali floating-point</h2>
      <ul>
        <li><b>Forme</b>: decimale (<code>3.14</code>), esponenziale (<code>1.0e-3</code>), con o senza parte intera (<code>.5</code>, <code>2.</code> in C++).</li>
        <li><b>Tipo di default</b>: <code>double</code>.</li>
        <li><b>Suffissi</b>: <code>f/F</code> → <code>float</code>, <code>l/L</code> → <code>long double</code>. Esempi: <code>3.14f</code>, <code>2.0L</code>.</li>
      </ul>
<pre><code class="language-cpp">// C++: esempi di letterali
double a = 3.14;
float  b = 3.14f;      // f → float
auto   c = 1.0e-3;     // double
long double d = 2.0L;  // L → long double</code></pre>
      <p class="note">Confronti tra floating-point: evita <code>==</code> su valori calcolati; usa una tolleranza (epsilon). Ne parleremo nelle espressioni.</p>
    </div>

    <!-- Caratteri e escape -->
    <div class="inner-box box">
      <h2>Letterali carattere &amp; stringa, escape</h2>
      <ul>
        <li><b>Char</b>: <code>'A'</code>, <code>'\n'</code>, <code>'\t'</code>, <code>'\\'</code>, <code>'\''</code>, <code>'\"'</code>, <code>'\x41'</code> (hex).</li>
        <li><b>Stringhe</b>: <code>"Ciao"</code> è un array di <code>char</code> terminato da <code>'\0'</code>. In C++ spesso gestite via <code>std::string</code> (più avanti).</li>
        <li><b>Unicode (C++)</b>: prefissi <code>u</code>, <code>U</code>, <code>L</code> per <code>char16_t</code>/<code>char32_t</code>/<code>wchar_t</code>: <code>u'Ā'</code>, <code>U"\u0100"</code>.</li>
      </ul>
<pre><code class="language-c">// C: alcune escape comuni
printf("ciao\tmondo\n");   // \t = tab, \n = newline
printf("Virgolette: \"test\" e backslash: \\\n");</code></pre>
      <p class="warn"><b>Signedness di <code>char</code>:</b> in C e C++ <code>char</code> può essere signed o unsigned a seconda del compilatore/piattaforma. Per valori 0..255 preferisci <code>unsigned char</code>.</p>
    </div>

    <!-- Promozioni e conversioni -->
    <div class="inner-box box">
      <h2>Promozioni e conversioni: cosa succede “in mezzo”</h2>
      <ul>
        <li><b>Integer promotions</b>: tipi interi “piccoli” (<code>char</code>, <code>short</code>) si promuovono ad almeno <code>int</code> nelle espressioni.</li>
        <li><b>Usual arithmetic conversions</b>: quando combini tipi diversi, si convertono a un tipo comune (spesso verso quello “più grande” o unsigned).</li>
        <li><b>Narrowing</b> (C++): assegnare un valore “grande” a un tipo “più piccolo” può perdere informazione. La <b>brace-init</b> (<code>int x{3.14}</code>) <em>impedisce</em> narrowing a compile-time.</li>
        <li><b>Overflow</b>: sugli interi <em>signed</em> è <b>undefined behavior</b>; sugli <em>unsigned</em> avviene modulo 2<sup>n</sup>.</li>
      </ul>
<pre><code class="language-cpp">// Esempi C++ di promozioni/narrowing
unsigned int u = 1u;
int          s = -1;
std::cout &lt;&lt; (s &lt; u) &lt;&lt; "\n"; // true? Attenzione: s viene convertito a unsigned!

int a = 300;
unsigned char b = a;     // narrowing: possibile perdita (b può valere 44 su 8 bit)
int c{3.14};             // ERROR in C++: brace-init blocca narrowing</code></pre>
      <p class="ok"><b>Regole d’oro:</b> evita di mescolare signed/unsigned; scegli un tipo “sufficiente” a contenere i calcoli; usa brace-init per intercettare errori in C++.</p>
    </div>

    <!-- Esempi sintetici C++ e C -->
    <div class="inner-box box">
      <h2>Esempi rapidi (C++ → C)</h2>
      <h3>C++</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdint&gt;

int main(){
    std::uint32_t n = 0xFFu;   // 255 in esadecimale
    auto big = 1'000'000;      // separatore (C++14+)
    bool ok = true;

    std::cout &lt;&lt; n &lt;&lt; " " &lt;&lt; big &lt;&lt; " " &lt;&lt; ok &lt;&lt; "\n";
}</code></pre>
      <h3>C (equivalente)</h3>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdbool.h&gt;

int main(void){
    uint32_t n = 0xFFu;   // 255
    int big = 1000000;    // niente separatore in C "classico"
    bool ok = true;

    printf("%u %d %d\n", n, big, ok);
    return 0;
}</code></pre>
      <p class="note">In C:: <code>stdbool.h</code> fornisce <code>bool</code>, <code>true</code>, <code>false</code> come alias di <code>_Bool</code> e 0/1.</p>
    </div>

    <!-- Pitfall -->
    <div class="inner-box box">
      <h2>Pitfall comuni (e rimedi pratici)</h2>
      <ul>
        <li><strong>Narrowing silenzioso</strong> (perdita di dati). <br/><br/><span class="ok">C++: usa <code>{}</code> per inizializzare; C: verifica range prima di assegnare.</span></li>
        <li><strong>Signed vs unsigned</strong> nei confronti/aritmetica. <br/><br/><span class="ok">Evita mix; se serve, converti esplicitamente allo stesso tipo.</span></li>
        <li><strong>Assumere dimensioni fisse</strong> di <code>int/long</code>. <br/><br/><span class="ok">Controlla con <code>sizeof</code> o usa <code>stdint.h</code>/<code>cstdint</code>.</span></li>
        <li><strong>Uso improprio di <code>std::endl</code></strong> per andare a capo. <br/><br/><span class="ok">Preferisci <code>'\n'</code>; <code>std::endl</code> fa anche flush (più lento).</span></li>
        <li><strong><code>char</code> negativo</strong> usato come indice/byte. <br/><br/><span class="ok">Per dati binari usa <code>unsigned char</code>.</span></li>
      </ul>
    </div>

    <!-- Esercizi -->
    <div class="inner-box box">
      <h2>Esercizi lampo (con soluzione a comparsa)</h2>
      <ol>
        <li><b>E1 — Intervalli e sizeof</b><br/>
          <em>Testo:</em> Scrivi un programmino (C++ o C) che stampi <code>sizeof</code> e min/max di <code>short</code>, <code>int</code>, <code>long</code>.
          <div class="nav-buttons" style="justify-content:left"><button id="btn-e1" onclick="toggleBox('btn-e1','box-e1')">Mostra ▼</button></div>
          <div id="box-e1" style="display:none;margin-top:8px">
<pre><code class="language-cpp">// C++ (versione sintetica)
#include &lt;iostream&gt; #include &lt;limits&gt;
int main(){
  std::cout &lt;&lt; "int: " &lt;&lt; sizeof(int) &lt;&lt; " min " &lt;&lt; std::numeric_limits&lt;int&gt;::min()
            &lt;&lt; " max " &lt;&lt; std::numeric_limits&lt;int&gt;::max() &lt;&lt; "\n";
  // ripeti per short/long
}</code></pre>
<pre><code class="language-c">// C (uso limits.h)
#include &lt;stdio.h&gt; #include &lt;limits.h&gt;
int main(void){
  printf("int: %zu byte, min %d max %d\n", sizeof(int), INT_MIN, INT_MAX);
  // ripeti per short/long usando SHRT_MIN/SHRT_MAX, LONG_MIN/LONG_MAX
}</code></pre>
          </div>
        </li>

        <li><b>E2 — Letterali e tipi</b><br/>
          <em>Testo:</em> Indica il tipo risultante (tipico) per: <code>42</code>, <code>42u</code>, <code>42L</code>, <code>42LL</code>, <code>0xFFu</code>, <code>3.0</code>, <code>3.0f</code>.
          <div class="nav-buttons" style="justify-content:left"><button id="btn-e2" onclick="toggleBox('btn-e2','box-e2')">Mostra ▼</button></div>
          <div id="box-e2" style="display:none;margin-top:8px">
            <p class="note"><b>Soluzione (tipica):</b> <code>42</code>→<code>int</code>; <code>42u</code>→<code>unsigned int</code>; <code>42L</code>→<code>long</code>; <code>42LL</code>→<code>long long</code>; <code>0xFFu</code>→<code>unsigned int</code>; <code>3.0</code>→<code>double</code>; <code>3.0f</code>→<code>float</code>.</p>
          </div>
        </li>

        <li><b>E3 — Signed vs unsigned</b><br/>
          <em>Testo:</em> In C++ che cosa stampa il seguente programma e perché?
<pre><code class="language-cpp">int main(){
  int s = -1; unsigned int u = 1u;
  std::cout &lt;&lt; (s &lt; u) &lt;&lt; "\n";
}</code></pre>
          <div class="nav-buttons" style="justify-content:left"><button id="btn-e3" onclick="toggleBox('btn-e3','box-e3')">Mostra ▼</button></div>
          <div id="box-e3" style="display:none;margin-top:8px">
            <p class="warn"><b>Spiegazione:</b> <code>s</code> viene convertito a <code>unsigned</code> (promozioni aritmetiche comuni), diventando un grande valore positivo; quindi <code>(s &lt; u)</code> è <code>false</code> (stampa <code>0</code>).</p>
          </div>
        </li>
      </ol>
    </div>

    <div class="inner-box note">
      <b>Anticipo (utile più avanti):</b> in C++ useremo <code>std::string</code> per le stringhe; in C useremo array di <code>char</code> e funzioni di <code>&lt;string.h&gt;</code>. La gestione dell’I/O nel dettaglio verrà nella slide successiva.
    </div>

  </div>

  <div class="nav-buttons">
    <button onclick="prevSlide()">&#8592; Indietro</button>
    <button onclick="nextSlide()">Avanti &#8594;</button>
  </div>
</div>

<script>
function toggleMenu(){ document.getElementById('menu').classList.toggle('open'); }
</script>
</body>
</html>
